(()=>{"use strict";const e=class{constructor(e){this._title=e,this._tasks=[]}get title(){return this._title}set title(e){e&&(this._title=e)}get tasks(){return this._tasks}addTask(e){e&&this._tasks.push(e)}},t=class{constructor(e,t,n){this._id=Date.now(),this._title=e,this._dueDate=t,this._radio=n}get id(){return this._id}get title(){return this._title}set title(e){e&&(this._title=e)}get dueDate(){return this._dueDate}set dueDate(e){e&&(this._dueDate=e)}get radio(){return this._radio}set radio(e){e&&(this._radio=e)}},n=[],d=[],a=document.createElement("div");function i(){const t=document.querySelector(".new-list"),d=t.value.trim();if(""===d)return;const a=new e(d);n.push(a),s(),t.value=""}function s(){const e=document.getElementById("list-projects");e.innerHTML="",n.forEach(((i,l)=>{const o=document.createElement("li"),r=document.createElement("div");r.classList.add("project");const m=document.createElement("span");m.textContent=i.title;const p=document.createElement("i");p.classList.add("fas","fa-ellipsis-vertical","settingDot"),r.appendChild(m),r.appendChild(p),o.appendChild(r),m.addEventListener("click",(()=>{document.querySelectorAll("li").forEach((e=>{e.classList.remove("active-list")})),document.querySelectorAll("span").forEach((e=>{e.classList.remove("active-list")})),m.classList.add("active-list"),function(e){const n=document.getElementById("main");n.innerHTML="";const i=document.createElement("h1");i.classList.add("project-title"),i.textContent=e.title;const s=document.createElement("button");s.classList.add("add-task"),s.textContent="+ Add Task",s.addEventListener("click",(()=>{l.classList.add("active")}));const l=document.createElement("div");l.classList.add("border");const o=document.createElement("div");o.classList.add("add-task-form");const r=document.createElement("form");r.setAttribute("id","task-form");const m=document.createElement("div");m.classList.add("top-add-task");const p=document.createElement("h4");p.textContent="Add Task";const u=document.createElement("i");u.classList.add("fas","fa-times"),u.addEventListener("click",(()=>{l.classList.remove("active"),r.reset()}));const h=document.createElement("input");h.type="text",h.id="Title",h.name="Title",h.placeholder="Title",h.maxLength=25;const C=document.createElement("div");C.classList.add("inline");const E=document.createElement("label");E.htmlFor="new-todo-date",E.textContent="Due Date";const L=document.createElement("input");L.type="date",L.classList.add("create-new__date-input"),L.id="new-todo-date",L.name="new-todo",L.required=!0;const v=document.createElement("div");v.classList.add("inline");const b=document.createElement("label");b.htmlFor="priority",b.textContent="Priority";const k=document.createElement("div");k.classList.add("importants");const f=["low","medium","high"];for(const e of f){const t=document.createElement("input");t.type="radio",t.id=e,t.name="priority",t.value=e,t.classList.add("radio"),"low"===e&&(t.checked=!0);const n=document.createElement("label");n.htmlFor=e,n.textContent=e.charAt(0).toUpperCase()+e.slice(1);const d=document.createElement("div");d.appendChild(t),d.appendChild(n),k.appendChild(d)}const y=document.createElement("div");y.classList.add("buttonsToDo");const A=document.createElement("button");A.classList.add("btn"),A.id="addToDO",A.type="button",A.textContent="Add";const D=document.createElement("button");D.classList.add("btn"),D.id="cancelToDO",D.type="button",D.textContent="Cancel",m.appendChild(p),m.appendChild(u),C.appendChild(E),C.appendChild(L),v.appendChild(b),v.appendChild(k),y.appendChild(A),y.appendChild(D),r.appendChild(m),r.appendChild(h),r.appendChild(C),r.appendChild(v),r.appendChild(y),o.appendChild(r),l.appendChild(o),n.appendChild(i),n.appendChild(s),n.appendChild(l),n.appendChild(a),A.addEventListener("click",(()=>{l.classList.remove("active"),function(e){const n=document.getElementById("Title"),a=document.getElementById("new-todo-date"),i=n.value.trim(),s=a.value;let l="";const o=document.querySelector("input[name='priority']:checked");if(o&&(l=o.value),""===i)return;const r=new t(i,s,l);e.addTask(r),d.push(r),c(e)}(e),r.reset()})),D.addEventListener("click",(()=>{l.classList.remove("active"),r.reset()})),c(e)}(i)})),p.addEventListener("click",(()=>{r.innerHTML="",r.setAttribute("id","active-project");const e=document.createElement("form");e.classList.add("input"),e.setAttribute("id","input");const t=document.createElement("div");t.classList.add("new-project");const d=document.createElement("input");d.value=i.title,d.setAttribute("type","text"),d.setAttribute("placeholder","new project name"),d.setAttribute("aria-label","new list name"),d.classList.add("new-list");const a=document.createElement("i");a.setAttribute("id","x-margin"),a.classList.add("fas","fa-times");const c=document.createElement("div");c.classList.add("buttons-project");const o=document.createElement("button");o.classList.add("small-btn"),o.setAttribute("id","rename"),o.setAttribute("type","button"),o.textContent="Rename";const m=document.createElement("button");m.classList.add("small-btn"),m.setAttribute("id","delete"),m.setAttribute("type","button"),m.textContent="Delete",t.appendChild(d),t.appendChild(a),c.appendChild(o),c.appendChild(m),e.appendChild(t),e.appendChild(c),a.addEventListener("click",(()=>{r.innerHTML="",r.removeAttribute("id"),s()})),o.addEventListener("click",(()=>{i.title=d.value,r.innerHTML="",r.removeAttribute("id"),s()})),m.addEventListener("click",(()=>{n.splice(l,1),r.innerHTML="",r.removeAttribute("id"),s()})),r.appendChild(e)})),e.appendChild(o)}))}function c(e){const t=document.getElementById("tasks");t.innerHTML="",e.tasks.forEach(((n,a)=>{const i=document.createElement("div");i.classList.add("task"),i.setAttribute("id",n.radio);const s=document.createElement("div");s.classList.add("task-title");const l=document.createElement("div");l.classList.add("titleDoneDiv");const o=document.createElement("input");o.type="checkbox",o.id="done",o.name="done",o.classList.add("radioDone");const r=document.createElement("span");r.textContent=n.title,o.checked?r.classList.add("taskTitle"):r.classList.remove("taskTitle"),o.addEventListener("change",(()=>{o.checked?(r.classList.add("taskTitle"),p.classList.add("time-done"),u.classList.add("time-done")):(r.classList.remove("taskTitle"),p.classList.remove("time-done"),u.classList.remove("time-done"),u.disabled=!1)}));const m=document.createElement("p"),p=document.createElement("time");p.textContent=n.dueDate,l.appendChild(o),l.appendChild(r),m.appendChild(p),s.appendChild(l);const u=document.createElement("i");u.classList.add("fas","fa-ellipsis-vertical"),u.addEventListener("click",(()=>{if(o.checked)return;const t=document.getElementById("main"),s=document.createElement("div");s.classList.add("border2");const l=document.createElement("div");l.classList.add("add-task-form");const r=document.createElement("form");r.setAttribute("id","task-form");const m=document.createElement("div");m.classList.add("top-add-task");const p=document.createElement("h4");p.textContent="Edit Task";const u=document.createElement("i");u.classList.add("fas","fa-times"),u.addEventListener("click",(()=>{s.classList.remove("active"),r.reset()}));const h=document.createElement("input");h.type="text",h.id="Title",h.name="Title",h.placeholder="Title",h.maxLength=25,h.value=n.title;const C=document.createElement("div");C.classList.add("inline");const E=document.createElement("label");E.htmlFor="new-todo-date",E.textContent="Due Date";const L=document.createElement("input");L.type="date",L.classList.add("create-new__date-input"),L.id="new-todo-date",L.name="new-todo",L.required=!0,L.value=n.dueDate;const v=document.createElement("div");v.classList.add("inline");const b=document.createElement("label");b.htmlFor="priority",b.textContent="Priority";const k=document.createElement("div");k.classList.add("importants");const f=["low","medium","high"];for(const e of f){const t=document.createElement("input");t.type="radio",t.id=e,t.name="priority",t.value=e,t.classList.add("radio"),e===n.radio&&(t.checked=!0);const d=document.createElement("label");d.htmlFor=e,d.textContent=e.charAt(0).toUpperCase()+e.slice(1);const a=document.createElement("div");a.appendChild(t),a.appendChild(d),k.appendChild(a)}const y=document.createElement("div");y.classList.add("buttonsToDo");const A=document.createElement("button");A.classList.add("btn"),A.id="rename",A.type="button",A.textContent="Update";const D=document.createElement("button");D.classList.add("btn"),D.id="delete",D.type="button",D.textContent="Delete",D.addEventListener("click",(()=>{e.tasks.splice(a,1);let t=d.findIndex((e=>e.title===n.title));-1!==t&&d.splice(t,1),i.remove(),s.classList.remove("active")})),A.addEventListener("click",(()=>{n.title=h.value.trim(),n.dueDate=L.value;const t=r.querySelector("input[name='priority']:checked");t&&(n.radio=t.value),s.classList.remove("active"),c(e)})),m.appendChild(p),m.appendChild(u),C.appendChild(E),C.appendChild(L),v.appendChild(b),v.appendChild(k),y.appendChild(A),y.appendChild(D),r.appendChild(m),r.appendChild(h),r.appendChild(C),r.appendChild(v),r.appendChild(y),l.appendChild(r),s.appendChild(l),t.appendChild(s),s.classList.add("active")})),s.appendChild(l),s.appendChild(m),s.appendChild(u),i.appendChild(s),t.appendChild(i)}))}function l(e,t){a.innerHTML="";let n=e;return t&&(n=function(e,t){const n=new Date;return e.filter((e=>{const d=new Date(e.dueDate);switch(t){case"Today":return i=n,(a=d).getDate()===i.getDate()&&a.getMonth()===i.getMonth()&&a.getFullYear()===i.getFullYear();case"Week":const e=new Date(n);e.setDate(n.getDate()-n.getDay());const t=new Date(e);return t.setDate(e.getDate()+6),d>=e&&d<=t;case"Month":return d.getMonth()===n.getMonth()&&d.getFullYear()===n.getFullYear();case"Year":return d.getFullYear()===n.getFullYear();default:return!0}var a,i}))}(e,t)),n.forEach((e=>{const t=document.createElement("div");t.classList.add("task"),t.setAttribute("id",e.radio);const n=document.createElement("div");n.classList.add("task-title");const d=document.createElement("div");d.classList.add("titleDoneDiv");const i=document.createElement("input");i.type="checkbox",i.id="done",i.name="done",i.classList.add("radioDone");const s=document.createElement("span");s.textContent=e.title,i.checked?s.classList.add("taskTitle"):s.classList.remove("taskTitle"),i.addEventListener("change",(()=>{i.checked?(s.classList.add("taskTitle"),l.classList.add("time-done")):(s.classList.remove("taskTitle"),l.classList.remove("time-done"))})),d.appendChild(i),d.appendChild(s);const c=document.createElement("p"),l=document.createElement("time");l.textContent=e.dueDate,c.appendChild(l),n.appendChild(d),n.appendChild(c),t.appendChild(n),a.appendChild(t)})),a}a.setAttribute("id","tasks");const o=document.querySelector(".content");o.appendChild(function(){const e=document.createElement("div");e.setAttribute("id","header");const t=document.createElement("h1");return t.classList.add("title"),t.textContent="To-Do",e.appendChild(t),e}()),o.appendChild(function(){const e=document.createElement("div");return e.setAttribute("id","main"),e}()),o.appendChild(function(){const e=document.createElement("div");e.setAttribute("id","sidebar");const t=document.createElement("ul");t.setAttribute("id","list"),["Tasks","Today","Week","Month","Year"].forEach((e=>{const n=document.createElement("li");n.textContent=e,t.appendChild(n),n.addEventListener("click",(()=>{const i=document.getElementById("main");i.innerHTML="",console.log(d);const s=document.createElement("h1");s.classList.add("project-title"),s.textContent=n.textContent,i.appendChild(s),i.appendChild(a),t.querySelectorAll("li").forEach((e=>{e.classList.remove("active-list")})),document.querySelectorAll("span").forEach((e=>{e.classList.remove("active-list")})),n.classList.add("active-list"),"Tasks"===e?a=l(d):"Today"===e?a=l(d,"Today"):"Week"===e?a=l(d,"Week"):"Month"===e?a=l(d,"Month"):"Year"===e&&(a=l(d,"Year")),a&&i.appendChild(a)}))}));const n=document.createElement("div");n.setAttribute("id","project-titles");const s=document.createElement("h2");s.textContent="Add Projects";const c=document.createElement("form");c.classList.add("form-input"),c.setAttribute("id","form-input");const o=document.createElement("button");o.classList.add("btn-list"),o.setAttribute("aria-label","create new project"),o.textContent="+",o.setAttribute("type","button");const r=document.createElement("input");r.setAttribute("type","text"),r.classList.add("new-list"),r.setAttribute("placeholder","new project name"),r.setAttribute("aria-label","new list name"),c.appendChild(o),c.appendChild(r),n.appendChild(s),n.appendChild(c);const m=document.createElement("ul");return m.setAttribute("id","list-projects"),o.addEventListener("click",i),e.appendChild(t),e.appendChild(n),e.appendChild(m),e}())})();